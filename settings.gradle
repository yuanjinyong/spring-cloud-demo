/*
 * This settings file was generated by the Gradle 'init' task.
 *
 * The settings file is used to specify which projects to include in your build.
 * In a single project build this file can be empty or even removed.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user guide at https://docs.gradle.org/4.2.1/userguide/multi_project_builds.html
 */
// As the first statement of the settings.gradle file we can define pluginRepositories:
pluginManagement {
  repositories {
      maven { url 'http://120.78.72.249:8081/repository/maven-public/' }
      gradlePluginPortal()
  }
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// To declare projects as part of a multi-project build use the 'include' method
// Begin of include
include ':server:eureka'
include ':server:config'

include ':framework:core'
include ':framework:service'
include ':service:platform-sys'
include ':service:platform-tools'
// End of include


rootProject.name = 'smart-site'


settingProjects(rootProject)

def settingProjects(parentProject) {
    parentProject.children.each { project ->
        project.projectDir = new File(settingsDir, "subprojects/${project.path.replaceAll(':', '/').substring(1)}")
        assert project.projectDir.isDirectory()

        project.buildFileName = "${project.name}.gradle" //设置工程的构建脚本名称和工程同名
        assert project.buildFile.isFile()

        if (project.children) {
            settingProjects(project)
        }
    }
}